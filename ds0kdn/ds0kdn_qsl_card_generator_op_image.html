<!DOCType HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" manifest="cache.manifest">
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<title>DS0KDN QSL Card Generator</title>
<script type="text/javascript">
var qslLogs = [
["1","DS1TZE","2022.08.20.","03:52","HL1NNK","59","7.080","SSB"],
["2","DS1TZE","2022.08.20.","03:58","HL5BUO","59","7.080","SSB"],
["3","DS1TZE","2022.08.20.","04:02","DS1RVI","59","7.080","SSB"],
["4","DS1TZE","2022.08.20.","04:06","DS1TVW","59","7.080","SSB"],
["5","DS1TZE","2022.08.20.","04:09","HL2AWO","59","7.080","SSB"],
["6","DS1TZE","2022.08.20.","04:17","HL2IEI","59","7.080","SSB"],
["7","DS1TZE","2022.08.20.","04:20","HL1IWM","58","7.080","SSB"],
["8","DS1TZE","2022.08.20.","04:25","HL1IWD","57","7.080","SSB"],
["9","DS1TZE","2022.08.20.","04:29","DS5GJS","59","7.080","SSB"],
["10","DS1TZE","2022.08.20.","05:51","DS5TLV","59","7.080","SSB"],
["11","DS1TZE","2022.08.20.","05:55","HL1TDX","59","7.080","SSB"],
["12","DS1TZE","2022.08.20.","06:05","HL1CR","59","7.080","SSB"],
["13","DS1TZE","2022.08.20.","06:08","6K5CRS","59","7.080","SSB"],
["14","DS1TZE","2022.08.20.","06:15","HL5MP","59","7.080","SSB"],
["15","DS1TZE","2022.08.20.","06:21","HL5IUJ","59","7.080","SSB"],
["16","DS1TZE","2022.08.20.","06:26","HL5BBB","59","7.080","SSB"],
["17","DS1TZE","2022.08.20.","06:31","6K5CSL","59","7.080","SSB"],
["18","DS1TZE","2022.08.20.","06:36","DS3OBN","59","7.080","SSB"],
["19","DS1TZE","2022.08.20.","06:40","6K2BXK","59","7.080","SSB"],
["20","DS1TZE","2022.08.20.","06:42","HL5FEE","59","7.080","SSB"],
["21","DS1TZE","2022.08.20.","06:46","DS4RMI","59","7.080","SSB"],
["22","DS1TZE","2022.08.20.","06:50","HL3LMS","59","7.080","SSB"],
["23","DS1TZE","2022.08.20.","08:16","6K2JLX","59","51.020","FM"],
["24","DS1TZE","2022.08.20.","08:38","HL1NNK","57","51.020","FM"],
["25","DS1TZE","2022.08.20.","08:46","DS2EVN","59","51.020","FM"],
["26","DS1TZE","2022.08.20.","08:53","HL2OEY","59","51.020","FM"],
["27","DS1TWO","2022.08.20.","04:09","DS4FAM","59","145.000","FM"],
["28","DS1TWO","2022.08.20.","04:13","DS1UAW","59","145.000","FM"],
["29","DS1TWO","2022.08.20.","04:16","DS1TWI","59","145.000","FM"],
["30","DS1TWO","2022.08.20.","04:18","DS4OFA","55","145.000","FM"],
["31","DS1TWO","2022.08.20.","04:21","6K2JAG","59","145.000","FM"],
["32","DS1TWO","2022.08.20.","04:25","6K2KGC","59","145.000","FM"],
["33","DS1TWO","2022.08.20.","04:35","6K2FJJ","59","145.000","FM"],
["34","DS1TWO","2022.08.20.","05:19","6K2FGN","59","145.000","FM"],
["35","DS1TWO","2022.08.20.","05:25","DS2CYI","59","145.000","FM"],
["36","DS1TWO","2022.08.20.","05:30","HL1ATX","59","145.000","FM"],
["37","DS1TWO","2022.08.20.","05:32","DS1IWR","59","145.000","FM"],
["38","DS1TWO","2022.08.20.","05:38","DS2RGH","59","145.000","FM"],
["39","DS1TWO","2022.08.20.","05:40","6K2IRK","59","145.000","FM"],
["40","DS1TWO","2022.08.20.","05:44","HL3LMS","59","145.000","FM"],
["41","DS1TWO","2022.08.20.","05:46","DS1TXC","59","145.000","FM"],
["42","DS1TWO","2022.08.20.","06:54","DS1TFM","59","7.080","SSB"],
["43","DS1TWO","2022.08.20.","06:57","HL2TJN","59","7.080","SSB"],
["44","DS1TWO","2022.08.20.","06:59","DS3PPP","59","7.080","SSB"],
["45","DS1TWO","2022.08.20.","07:03","6K2FWH","59","7.080","SSB"],
["46","DS1TWO","2022.08.20.","07:07","HL1TKF","59","7.080","SSB"],
["47","DS1TWO","2022.08.20.","07:05","HL3GHJ","59","7.080","SSB"],
["48","DS1TWO","2022.08.20.","07:09","DS4ERW","59","7.080","SSB"],
["49","DS1TWO","2022.08.20.","07:11","6K2ILX","59","7.080","SSB"],
["50","DS1TWO","2022.08.20.","07:15","DS2YZI","59","7.080","SSB"],
["51","DS1TWO","2022.08.20.","07:17","DS2KFJ","59","7.080","SSB"],
["52","DS1TWO","2022.08.20.","07:18","DS4GOD","59","7.080","SSB"],
["53","DS1TWO","2022.08.20.","07:20","DS3EYG","59","7.080","SSB"],
["54","DS1TWO","2022.08.20.","07:24","DS4ENK","59","7.080","SSB"],
["55","DS1TWO","2022.08.20.","07:26","HL2WAU","59","7.080","SSB"],
["56","DS1TWO","2022.08.20.","07:28","HL2APU","59","7.080","SSB"],
["57","DS1TWO","2022.08.20.","07:32","DS1UDC","59","7.080","SSB"],
["58","DS1TWO","2022.08.20.","07:35","HL2LMH","59","7.080","SSB"],
["59","DS1TWO","2022.08.20.","07:37","HL5MKL","59","7.080","SSB"],
["60","DS1TWO","2022.08.20.","07:39","DS1DQH","59","7.080","SSB"],
["61","DS1TWO","2022.08.20.","07:42","JE2PMC","59","7.080","SSB"],
["62","DS1TWO","2022.08.20.","07:44","JA6HNC","59","7.080","SSB"],
["63","DS1TWO","2022.08.20.","07:47","DS5VDO","59","7.080","SSB"],
["64","DS1TWO","2022.08.20.","07:49","DS1TWU","59","7.080","SSB"],
["65","DS1TWO","2022.08.20.","07:51","DS3PXC","59","7.080","SSB"],
["66","DS1TWO","2022.08.20.","07:54","6K2KXY","59","7.080","SSB"],
["67","DS1TWL","2022.08.20.","08:06","DS1TYZ","55","433.040","FM"],
["68","DS1TWL","2022.08.20.","08:13","DS4RXN","57","433.040","FM"],
["69","DS1TWL","2022.08.20.","08:19","HL2OEY","59","433.040","FM"],
["70","DS1TWL","2022.08.20.","08:55","DS1TXU","57","7.080","SSB"],
["71","DS1TWL","2022.08.20.","08:57","DS2IIY","59","7.080","SSB"],
["72","DS1TWL","2022.08.20.","09:01","DS1TWU","59","7.080","SSB"],
["73","DS1TWL","2022.08.20.","09:03","HL3EJE","59","7.080","SSB"],
["74","DS1TWL","2022.08.20.","09:05","DS1HTU","59","7.080","SSB"],
["75","DS1TWL","2022.08.20.","09:07","6K5XHF","59","7.080","SSB"],
["76","DS1TWL","2022.08.20.","09:11","DS1CPT","59","7.080","SSB"],
["77","DS1PEE","2022.08.20.","02:20","HL2IKT","59","51.020","FM"],
["78","DS1PEE","2022.08.20.","02:27","HL1CR","59","51.020","FM"],
["79","DS1PEE","2022.08.20.","02:30","HL1NNK","59","51.020","FM"],
["80","DS1PEE","2022.08.20.","02:32","6K2JLK","59","51.020","FM"],
["81","DS1PEE","2022.08.20.","06:10","HL1CR","59","144.940","FM"],
["82","DS1PEE","2022.08.20.","06:15","DS2NWT","59","144.940","FM"],
["83","DS1PEE","2022.08.20.","06:20","6K2BOT","59","144.940","FM"],
["84","DS1PEE","2022.08.20.","06:25","DS1PVC","59","144.940","FM"],
["85","DS1PEE","2022.08.20.","06:27","DS2DCR","21","144.940","FM"],
["86","DS1PEE","2022.08.20.","06:30","DS4OUL","59","144.940","FM"],
["87","DS1PEE","2022.08.20.","06:33","6K2ILX","59","144.940","FM"],
["88","DS1PEE","2022.08.20.","06:38","DS1MFC","59","144.940","FM"],
["89","DS1PEE","2022.08.20.","06:43","6K2HPD","59","144.940","FM"],
["90","DS1PEE","2022.08.20.","06:45","HL2TJN","59","144.940","FM"],
["91","DS1PEE","2022.08.20.","06:48","DS5SQS","59","144.940","FM"],
["92","DS1PEE","2022.08.20.","06:52","6K2LFR","59","144.940","FM"],
["93","DS1PEE","2022.08.20.","06:53","6K2LFL","59","144.940","FM"],
["94","DS1PEE","2022.08.20.","06:58","DS2KFJ","59","144.940","FM"],
["95","DS1PEE","2022.08.20.","07:05","6K2LAG","59","144.940","FM"],
["96","DS1PEE","2022.08.20.","07:12","DS1UDC","59","144.940","FM"],
["97","DS1PEE","2022.08.20.","07:15","HL1TKF","59","144.940","FM"],
["98","DS1PEE","2022.08.20.","07:21","6K2HYF","59","144.940","FM"],
["99","DS1PEE","2022.08.20.","07:25","HL2APO","59","144.940","FM"],
["100","DS1PEE","2022.08.20.","08:07","HL5QY","59","7.080","SSB"],
["101","DS1PEE","2022.08.20.","08:10","HL2KXT","59","7.080","SSB"],
["102","DS1PEE","2022.08.20.","08:13","HL1ADD","59","7.080","SSB"],
["103","DS1PEE","2022.08.20.","08:15","HL3SIQ","59","7.080","SSB"],
["104","DS1PEE","2022.08.20.","08:19","DS1AXW","59","7.080","SSB"],
["105","DS1PEE","2022.08.20.","08:21","DS2OKO","59","7.080","SSB"],
["106","DS1PEE","2022.08.20.","08:25","HL4GKR","59","7.080","SSB"],
["107","DS1PEE","2022.08.20.","08:27","HL3WAT","59","7.080","SSB"],
["108","DS1PEE","2022.08.20.","08:30","DS4WBU","59","7.080","SSB"],
["109","DS1PEE","2022.08.20.","08:32","6K2JLX ","59","7.080","SSB"],
["110","DS1PEE","2022.08.20.","08:35","6K5XHF","59","7.080","SSB"],
["111","DS1PEE","2022.08.20.","08:37","DS1NSG","59","7.080","SSB"],
["112","DS1PEE","2022.08.20.","08:39","DS2SHC","59","7.080","SSB"],
["113","DS1PEE","2022.08.20.","08:40","6K2ETS","59","7.080","SSB"],
["114","DS1PEE","2022.08.20.","08:43","DS4HIW","59","7.080","SSB"],
["115","DS1PEE","2022.08.20.","08:45","HL5JDU","59","7.080","SSB"],
["116","DS1PEE","2022.08.20.","08:50","HL3LST","59","7.080","SSB"],
["117","DS1PEE","2022.08.20.","08:53","HL2ADO","59","7.080","SSB"]
]
</script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Secular+One" type="text/css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courgette" type="text/css" />
<!--script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script-->
</head>
<body>
<button id="save">SAVE as SVG file</button>
<svg version="1.1" id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    width="2270" height="7200">
    <link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Secular+One" type="text/css" />
    <link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courgette" type="text/css" />
    <style type="text/css">
	.cs {
        font-family: Secular One;
        font-size: xx-large;
    }
    .date {
        font-family: Courgette;
        font-size: large;
    }
    .time {
        font-family: Courgette;
        font-size: large;
    }
    .band {
        font-family: Courgette;
        font-size: large;
    }
    .mode {
        font-family: Courgette;
        font-size: large;
    }
    .rst {
        font-family: Courgette;
        font-size: large;
    }
    .op {
        font-family: Secular One;
        font-size: x-large;
    }
    .sn {
        font-family: Courgette;
        font-size: normal;
    }
    </style>
</svg>
</body>
<script type="text/javascript">
var QSL_SVG = "ds0kdn_qsl_card_back.svg";
var COLS = 5, ROWS = Math.ceil(qslLogs * 1.0 / COLS); // when change this value, we need to change above svg width,height also
var SCALE_FACTOR = 2;
var CARD_WIDTH = 227, CARD_HEIGHT = 150;
var svg = document.querySelector("#svg");
document.querySelector("#save").addEventListener('click', saveSvg);

var cols = rows = 0;
for (var log of qslLogs) {
    addCard(CARD_WIDTH * cols, CARD_HEIGHT * rows, log[0], log[1], log[2], log[3], log[4], log[5], log[6], log[7]);
    cols++;
    if (cols == COLS) {
        cols = 0;
        rows++;
    }
}

function addCard(x, y, sn, op, date, time, cs, rst, band, mode) {
    var card = document.createElementNS('http://www.w3.org/2000/svg', "image");
    card.setAttribute('href', QSL_SVG);
    card.setAttribute('x', x * SCALE_FACTOR);
    card.setAttribute('y', y * SCALE_FACTOR);
    card.setAttribute('width', CARD_WIDTH * SCALE_FACTOR);
    card.setAttribute('height', CARD_HEIGHT * SCALE_FACTOR);
    svg.append(card);
    
    svg.append(createText((x + 57) * SCALE_FACTOR, (y + 39) * SCALE_FACTOR, 'cs', cs)); // scale factor will be treated in createText
    svg.append(createText((x + 39) * SCALE_FACTOR, (y + 77) * SCALE_FACTOR, 'date', date));
    svg.append(createText((x + 86) * SCALE_FACTOR, (y + 77) * SCALE_FACTOR, 'time', time));
    svg.append(createText((x + 131) * SCALE_FACTOR, (y + 77) * SCALE_FACTOR, 'band', band));
    svg.append(createText((x + 170) * SCALE_FACTOR, (y + 77) * SCALE_FACTOR, 'mode', mode));
    svg.append(createText((x + 201) * SCALE_FACTOR, (y + 77) * SCALE_FACTOR, 'rst', rst));
    //svg.append(createText((x + 46) * SCALE_FACTOR, (y + 117) * SCALE_FACTOR, 'op', op));
	svg.append(createOpImage((x + 13) * SCALE_FACTOR, (y + 79) * SCALE_FACTOR, 'op', op));
    svg.append(createText((x + 60) * SCALE_FACTOR, (y + 139) * SCALE_FACTOR, 'sn', sn));
}

function createText(x, y, className, value) {
    var text = document.createElementNS('http://www.w3.org/2000/svg', "text");
    text.setAttribute('x', x);
    text.setAttribute('y', y);
	text.setAttribute('text-anchor', 'middle');
    text.setAttribute('class', className);
    text.appendChild(document.createTextNode(value));
    return text;
}

function createOpImage(x, y, className, op) {
	var image = document.createElementNS('http://www.w3.org/2000/svg', "image");
    image.setAttribute('href', op + ".svg");
    image.setAttribute('x', x);
    image.setAttribute('y', y);
	image.setAttribute('width', 135);
	image.setAttribute('height', 135);
    image.setAttribute('class', className);
	return image;
}

function saveSvg() {
	var data = '<?xml version="1.0" standalone="no"?>\r\n' + svg.outerHTML;
	var blob = new Blob([data], {type:"image/svg+xml;charset=utf-8"});
	var url = URL.createObjectURL(blob);
	
	var link = document.createElement("a");
    link.href = url;
    link.download = "20220820_ds0kdn_qsl_cards.svg";
    link.click();
}
</script>
</html>